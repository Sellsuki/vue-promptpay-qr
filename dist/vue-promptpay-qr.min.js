!function(a,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("qrcode.vue")):"function"==typeof define&&define.amd?define(["qrcode.vue"],t):a["vue-promptpay-qr"]=t(a.QrcodeVue)}(this,function(a){function t(a){return a<10?"0"+a:a}function n(a){var t=e.crc16ccitt(a).toString(16),n=t.toUpperCase();return n.length<4?"0"+n:n}a=a&&a.hasOwnProperty("default")?a.default:a;var e=require("crc"),r=function(a){var e=a;if(e.pointOfInitiation){e.payloadFormat||(e.payloadFormat="01"),e.pointOfInitiation||(e.pointOfInitiation="11");var r="";if(Object.keys(e.merchantAccPromptpay).length){e.merchantAccPromptpay.aid="A000000677010111";var c=0,i=0,o=0,m=0,d=0;c=e.merchantAccPromptpay.aid.length+4,e.merchantAccPromptpay.mobileNumber&&(i=e.merchantAccPromptpay.mobileNumber.length+4),e.merchantAccPromptpay.nationalId&&(o=e.merchantAccPromptpay.nationalId.length+4),e.merchantAccPromptpay.ewalletId&&(m=e.merchantAccPromptpay.ewalletId.length+4),e.merchantAccPromptpay.bankAccount&&(d=e.merchantAccPromptpay.bankAccount.length+4),r="29"+(c+i+o+m+d),e.merchantAccPromptpay.aid&&(r+="00"+t(e.merchantAccPromptpay.aid.length)+e.merchantAccPromptpay.aid),e.merchantAccPromptpay.mobileNumber&&(r+="01"+t(e.merchantAccPromptpay.mobileNumber.length)+e.merchantAccPromptpay.mobileNumber),e.merchantAccPromptpay.nationalId&&(r+="02"+t(e.merchantAccPromptpay.nationalId.length)+e.merchantAccPromptpay.nationalId),e.merchantAccPromptpay.ewalletId&&(r+="03"+t(e.merchantAccPromptpay.ewalletId.length)+e.merchantAccPromptpay.ewalletId),e.merchantAccPromptpay.bankAccount&&(r+="04"+t(e.merchantAccPromptpay.bankAccount.length)+e.merchantAccPromptpay.bankAccount)}if(Object.keys(e.merchant).length&&(e.merchant.mcc&&(r+="52"+t(e.merchant.mcc.length)+e.merchant.mcc),e.merchant.countryCode&&(r+="58"+t(e.merchant.countryCode.length)+e.merchant.countryCode),e.merchant.merchantName&&(r+="59"+t(e.merchant.merchantName.length)+e.merchant.merchantName),e.merchant.merchantCity&&(r+="60"+t(e.merchant.merchantCity.length)+e.merchant.merchantCity),e.merchant.merchantLanguage)){var l=0,h=0,u=0;e.merchant.merchantLanguage.localLang&&(l=e.merchant.merchantLanguage.localLang.length+4),e.merchant.merchantLanguage.merchantName&&(h=e.merchant.merchantLanguage.merchantName.length+4),e.merchant.merchantLanguage.merchantCity&&(u=e.merchant.merchantLanguage.merchantCity.length+4),r+="64"+(l+h+u),e.merchant.merchantLanguage.localLang&&(r+="00"+t(l-4)+e.merchant.merchantLanguage.localLang),e.merchant.merchantLanguage.merchantName&&(r+="01"+t(h-4)+e.merchant.merchantLanguage.merchantName),e.merchant.merchantLanguage.merchantCity&&(r+="02"+t(u-4)+e.merchant.merchantLanguage.merchantCity)}if(Object.keys(e.transaction).length&&(e.transaction.transactionAmount&&(r+="54"+t(e.transaction.transactionAmount.length)+e.transaction.transactionAmount),e.transaction.transactionCurrency||(e.transaction.transactionCurrency="764"),e.transaction.transactionCurrency&&(r+="53"+t(e.transaction.transactionCurrency.length)+e.transaction.transactionCurrency),e.transaction.tip&&(r+="55"+t(e.transaction.tip.length)+e.transaction.tip)),Object.keys(e.additionalData).length){var p=0;i=0;var g=0,s=0,y=0,f=0,A=0;e.additionalData.billNumber&&(p=e.additionalData.billNumber.length+4),e.additionalData.mobileNumber&&(i=e.additionalData.mobileNumber.length+4),e.additionalData.storeId&&(g=e.additionalData.storeId.length+4),e.additionalData.referenceId&&(A=e.additionalData.referenceId.length+4),e.additionalData.customerId&&(s=e.additionalData.customerId.length+4),e.additionalData.terminalId&&(y=e.additionalData.terminalId.length+4),e.additionalData.consumerData&&(f=e.additionalData.consumerData.length+4),r+="62"+(p+i+g+s+y+f+A),e.additionalData.billNumber&&(r+="01"+t(p-4)+e.additionalData.billNumber),e.additionalData.mobileNumber&&(r+="02"+t(i-4)+e.additionalData.mobileNumber),e.additionalData.storeId&&(r+="03"+t(g-4)+e.additionalData.storeId),e.additionalData.referenceId&&(r+="05"+t(A-4)+e.additionalData.referenceId),e.additionalData.customerId&&(r+="06"+t(s-4)+e.additionalData.customerId),e.additionalData.terminalId&&(r+="07"+t(y-4)+e.additionalData.terminalId),e.additionalData.consumerData&&(r+="09"+t(f-4)+e.additionalData.consumerData)}if(Object.keys(e.unreserved).length){var I=0,b=0;e.unreserved.guid&&(I=e.unreserved.guid.length+4),e.unreserved.merchantAccInfo&&(b=e.unreserved.merchantAccInfo.length+4),r+="91"+(I+b),e.unreserved.guid&&(r+="03"+t(I-4)+e.unreserved.guid),e.unreserved.merchantAccInfo&&(r+="06"+t(b-4)+e.unreserved.merchantAccInfo)}var D="00"+t(e.payloadFormat.length)+e.payloadFormat+"01"+t(e.pointOfInitiation.length)+e.pointOfInitiation+r+"6304",v=n(D),P={data:D+v}}else P="12"!==e.pointOfInitiation||e.transaction.transactionAmount?{msg:"data not null or field pointOfInitiation not null"}:{msg:"if pointOfInitiation equal 12 transactionAmount not null"};return P},c={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",[n("qrcode-vue",{attrs:{value:a.qrString,size:250}})],1)},staticRenderFns:[],props:{id:{type:Number,required:!0},amount:{type:Number,required:!0}},data:function(){return{qrString:""}},mounted:function(){var a={};a={nationalId:this.id+""},this.qrString=r({pointOfInitiation:"11",merchantAccPromptpay:a,merchant:{countryCode:"TH"},transaction:{transactionCurrency:"764",transactionAmount:this.amount+""},additionalData:{},unreserved:{}}).data},components:{QrcodeVue:a}};return c.install=function(a){a.component("promptpay-qr",c)},c});